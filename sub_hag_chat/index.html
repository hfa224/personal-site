<!DOCTYPE html>
<html>

<head>
	<title>Roll the dice!</title>
	<link rel="stylesheet" href="https://unpkg.com/normalize.css">
	<link rel="stylesheet" href="https://unpkg.com/magick.css">
	<!-- add custom styling additions -->
	<link rel="stylesheet" href="./hag_chat.css">
</head>
<body>


	<!-- Page content -->
	<main>
		<header style="margin-bottom:0rem;margin-top:4rem">
		</header>
		
<!--section>
		<aside>This doesn't always look good... it gets the text by asking the webpage for it so sometimes it's too long 
			or too short Â¯\_(ãƒ„)_/Â¯ same for the image so sometimes that's the wrong size too. That's coding!
		</aside>
		<br>
		
</section -->
<section>
<div class="highlight" style="min-height: 130px;">
	<button type="button" style="border: 0px;margin:0rem;padding:0px" onclick='getRandomImg()'>
		<img class="image-container" style="width:100px" src=./17-50-28-149_512.webp>
	</button>
	<div class="text-container" id="description">Click the dice to see a random link! <small>This doesn't always look good... it gets the text by asking the webpage for it so sometimes it's too long 
		or too short Â¯\_(ãƒ„)_/Â¯ same for the image so sometimes that's the wrong size too. That's life!</small></div>
</div>
</section>
<section>
	<script>
		let linkArray = [
			["https://search.marginalia.nu/", "Try the 'random' button! - as it says " +
			 " 'attempts to show you sites you perhaps weren't aware of in favor of the sort of sites you probably already knew existed.'."],
			["https://drawing.garden","A garden :)"],
			["https://rain.computer/","A very cute personal site"],
			["https://dreamwiki.sixey.es/","Weird ascii art"],
			["https://mcmansionhell.com/","Recently rediscovered McMansion and the annotated images. I'd reccommend you skip down to the 'texas gothic revival' post and start there."],
			["https://goblin-heart.net/sadgrl/magnet-poetry/","An online magnet poetry maker"],
			["https://www.pcgamer.com/the-metaverse-is-bullshit/","Enjoyed this pcgamer metaverse rant."],
			["https://www.cs.cmu.edu/~sef/sefSmiley.htm", "Short webpage written by the guy who invented the smiley face :-)"],
			["https://www.shortboxcomicsfair.com/", "The shortbox digital comics fair has an amazing selection of digital comics to browse - it starts in Oct but you can still check out the exhibitors."],
			["https://gatoshop.mx/", "I haven't looked at this site much but I've signed up to the newsletter just based on the site."]
		]
		function randChoice(size) {
			return Math.floor(Math.random() * size)
		}
		function getRandomImg() {
			var randNo = randChoice(linkArray.length) + 1
			var url = linkArray[randNo - 1][0]
			var api_url = "https://api.microlink.io/?url=" + url;
			document.getElementById('random-link').setAttribute('href', url);
			document.getElementById('description').innerHTML = linkArray[randNo - 1][1];
			document.getElementById('random-link-api').setAttribute('api', api_url);

		}
	</script>
	<noscript>Sorry, your browser does not support JavaScript! So this button will not work :(</noscript>
</section>

<script type="text/javascript" src="./link-peek.js"></script>
<section style="height:250px">
	<template id="link-peek-template">
		<img style="float:right;margin:1rem;width:40%" data-key="data.image.url" />
		<div style="float:none;margin:1rem;width:55%">
			<a data-key="data.title, link"></a>
			<p data-key="data.description"></p>
		</div>
	</template>

	<link-peek id="random-link-api" api="https://api.microlink.io/?url=${link}">
		<a id="random-link" href=""></a>
	</link-peek>
</section>
<section>
	<small>Note: sometimes links might take awhile to load, our you'll see the same link twice because of how the links are randomly selected - wait
	then try clicking again ðŸ˜Š </small>
</section>
<section class="highlight" >
	<details>
		<summary><i>What did I use?</i></summary>
		<p>I based the styling on <a href="https://moku.blog/">moku.blog</a> (a lot cuter than this) and <a href="https://darn.es/link-peek-web-component/">link-peek</a>, with some changes to the JavaScript
		to make the link data refresh when the link is changed.</p>
		<p><s>And then I realised the link-peek javascript wouldn't work where I wanted to upload this, so I ditched it
			and went back to using some simpler javascript that just displays an image I uploaded and text I wrote for each site.</s>
		</p>
		<p>Actually, I did get it work by importing it differently! I then uploaded as a bunch of html, css, image and js files to <a href="yay.boo">yay.boo</a> and
		made some minor tweaks to make it work. And that's it.</p>
	</details>
</section>


		<footer>
			<hr>
			<p>Style based on <a href="https://css.winterveil.net/">magick.css</a> by winterveil</p>
		</footer>
	</main>
</body>

</html>